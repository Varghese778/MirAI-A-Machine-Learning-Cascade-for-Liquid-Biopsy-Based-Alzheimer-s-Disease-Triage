<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MirAI | Liquid Biopsy-Based Alzheimer's Disease Triage</title>
    <meta name="description"
        content="MirAI is a 3-Stage Machine Learning Cascade for Alzheimer's Disease triage using demographics, genetics, and plasma biomarkers.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link href="/static/css/style.css" rel="stylesheet">
    <!-- Chart.js for the Risk Gauge -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <!-- Epic Neural Background -->
    <div class="neural-background"></div>

    <!-- Floating Geometric Shapes -->
    <div class="geometric-shapes">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>

    <!-- Neural Network Lines -->
    <div class="neural-lines">
        <div class="neural-line"></div>
        <div class="neural-line"></div>
        <div class="neural-line"></div>
    </div>

    <!-- Header -->
    <header class="glass">
        <nav>
            <a href="#home" class="logo">
                <svg class="logo-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#e0a3ff" />
                            <stop offset="50%" style="stop-color:#ff69b4" />
                            <stop offset="100%" style="stop-color:#9370db" />
                        </linearGradient>
                    </defs>
                    <circle cx="50" cy="30" r="8" fill="url(#logoGradient)" opacity="0.8">
                        <animate attributeName="opacity" values="0.8;1;0.8" dur="2s" repeatCount="indefinite" />
                    </circle>
                    <circle cx="30" cy="60" r="6" fill="url(#logoGradient)" opacity="0.6">
                        <animate attributeName="opacity" values="0.6;1;0.6" dur="2.5s" repeatCount="indefinite" />
                    </circle>
                    <circle cx="70" cy="65" r="7" fill="url(#logoGradient)" opacity="0.7">
                        <animate attributeName="opacity" values="0.7;1;0.7" dur="1.8s" repeatCount="indefinite" />
                    </circle>
                    <line x1="50" y1="30" x2="30" y2="60" stroke="url(#logoGradient)" stroke-width="2" opacity="0.6">
                        <animate attributeName="opacity" values="0.6;1;0.6" dur="3s" repeatCount="indefinite" />
                    </line>
                    <line x1="50" y1="30" x2="70" y2="65" stroke="url(#logoGradient)" stroke-width="2" opacity="0.6">
                        <animate attributeName="opacity" values="0.6;1;0.6" dur="2.2s" repeatCount="indefinite" />
                    </line>
                    <line x1="30" y1="60" x2="70" y2="65" stroke="url(#logoGradient)" stroke-width="2" opacity="0.6">
                        <animate attributeName="opacity" values="0.6;1;0.6" dur="2.8s" repeatCount="indefinite" />
                    </line>
                </svg>
                MirAI
            </a>
            <ul class="nav-links">
                <li><a href="#features">The Cascade</a></li>
                <li><a href="#showcase">Metrics</a></li>
                <li><a href="#timeline">How it Works</a></li>
                <li><a href="#screening">Screen Patient</a></li>
            </ul>
            <div class="mobile-menu-toggle">
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
            </div>
        </nav>
        <div class="mobile-nav">
            <a href="#features">The Cascade</a>
            <a href="#showcase">Metrics</a>
            <a href="#timeline">How it Works</a>
            <a href="#screening">Screen Patient</a>
        </div>
    </header>

    <!-- Section 1: Hero -->
    <section class="hero" id="home">
        <div class="hero-content">
            <div class="hero-subtitle">Investigational Clinical Screening Tool</div>
            <h1>ALZHEIMER'S DISEASE TRIAGE CASCADE</h1>

            <div class="hero-description">
                <p>MirAI is a 3-Stage Machine Learning Cascade that leverages demographics, genetics, and liquid biopsy
                    plasma biomarkers to provide rapid, non-invasive Alzheimer's disease risk triage. Designed to
                    minimize unnecessary invasive procedures.</p>
            </div>

            <div class="hero-stats">
                <div class="hero-stat">
                    <span class="hero-stat-number">~0.68</span>
                    <span class="hero-stat-label">Stage 1 AUC</span>
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-number">~0.70</span>
                    <span class="hero-stat-label">Stage 2 AUC</span>
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-number">~0.80</span>
                    <span class="hero-stat-label">Stage 3 AUC</span>
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-number">3</span>
                    <span class="hero-stat-label">XGBoost Stages</span>
                </div>
            </div>

            <div class="cta-buttons">
                <a href="#screening" class="cta-button">Begin Patient Screening</a>
                <a href="#features" class="cta-button secondary">Explore The Cascade</a>
            </div>
        </div>
    </section>

    <!-- Section 2: The 3-Stage Cascade (Features) -->
    <section class="features" id="features">
        <div class="features-container">
            <h2 class="section-title">THE 3-STAGE CASCADE</h2>
            <div class="diagonal-grid">
                <div class="feature-row">
                    <div class="feature-content glass">
                        <div class="feature-icon stage-icon">01</div>
                        <h3>Clinical Demographics</h3>
                        <p>The first gate uses the most accessible patient data: Age, Biological Sex, and Years of
                            Education. While limited in predictive power alone (AUC ~0.68), it serves as the baseline
                            anchor for subsequent stages, filtering patients who clearly need further evaluation.</p>
                    </div>
                    <div class="feature-visual glass"
                        style="background-image: url('/static/images/mirai-stage-01.jpg');"></div>
                </div>

                <div class="feature-row">
                    <div class="feature-content glass">
                        <div class="feature-icon stage-icon">02</div>
                        <h3>Genetic Risk (APOE4)</h3>
                        <p>Incorporates APOE e4 allele carrier status -- the strongest established genetic risk factor
                            for late-onset Alzheimer's disease. Adding this single genetic marker slightly improves
                            confidence (AUC ~0.70), capturing inherited risk that demographics alone cannot model.</p>
                    </div>
                    <div class="feature-visual glass"
                        style="background-image: url('/static/images/mirai-stage-02.jpg');"></div>
                </div>

                <div class="feature-row">
                    <div class="feature-content glass">
                        <div class="feature-icon stage-icon">03</div>
                        <h3>Liquid Biopsy (Plasma)</h3>
                        <p>The most powerful stage integrates plasma biomarkers: pTau-217/AB42 ratio, NfL (Neurofilament
                            Light), and GFAP. This significantly lifts diagnostic performance to AUC ~0.80, acting as a
                            non-invasive gatekeeper before expensive PET scans or CSF lumbar punctures.</p>
                    </div>
                    <div class="feature-visual glass"
                        style="background-image: url('/static/images/mirai-stage-03.jpg');"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 3: Dashboard Metrics (Hexagonal Showcase) -->
    <section class="showcase" id="showcase">
        <h2 class="section-title">CLINICAL DASHBOARD</h2>
        <div class="hexagon-container">
            <div class="hexagon">
                <div class="hexagon-inner glass">
                    <div class="hexagon-icon">&#x1F9EC;</div>
                    <h4>128</h4>
                    <p>Patients Screened This Month</p>
                </div>
            </div>
            <div class="hexagon">
                <div class="hexagon-inner glass">
                    <div class="hexagon-icon">&#x26A0;&#xFE0F;</div>
                    <h4>14</h4>
                    <p>High-Risk Flags</p>
                </div>
            </div>
            <div class="hexagon">
                <div class="hexagon-inner glass">
                    <div class="hexagon-icon">&#x26A1;</div>
                    <h4>1.2s</h4>
                    <p>Avg Processing Time</p>
                </div>
            </div>
            <div class="hexagon">
                <div class="hexagon-inner glass">
                    <div class="hexagon-icon">&#x1F4CA;</div>
                    <h4>0.80</h4>
                    <p>Best Stage AUC</p>
                </div>
            </div>
            <div class="hexagon">
                <div class="hexagon-inner glass">
                    <div class="hexagon-icon">&#x1F3AF;</div>
                    <h4>3</h4>
                    <p>XGBoost Models</p>
                </div>
            </div>
            <div class="hexagon">
                <div class="hexagon-inner glass">
                    <div class="hexagon-icon">&#x1F52C;</div>
                    <h4>ADNI</h4>
                    <p>Training Dataset</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 4: How it Works (Timeline) -->
    <section class="timeline" id="timeline">
        <h2 class="section-title">HOW IT WORKS</h2>
        <div class="timeline-container">
            <div class="timeline-line"></div>

            <div class="timeline-item">
                <div class="timeline-content glass">
                    <div class="timeline-year">Step 1</div>
                    <h4>Collect Demographics</h4>
                    <p>The clinician enters basic patient information: Age, Biological Sex, and total years of formal
                        education. This data is universally available in any clinical setting with zero additional cost.
                    </p>
                </div>
                <div class="timeline-dot"></div>
            </div>

            <div class="timeline-item">
                <div class="timeline-content glass">
                    <div class="timeline-year">Step 2</div>
                    <h4>Add Genetic Data (Optional)</h4>
                    <p>If APOE genotyping results are available, the clinician enters the APOE e4 carrier status (0, 1,
                        or 2 alleles). If genetics aren't available, MirAI gracefully falls back to Stage 1 prediction.
                    </p>
                </div>
                <div class="timeline-dot"></div>
            </div>

            <div class="timeline-item">
                <div class="timeline-content glass">
                    <div class="timeline-year">Step 3</div>
                    <h4>Enter Plasma Biomarkers (Optional)</h4>
                    <p>For the highest-confidence prediction, plasma biomarker values are entered: pTau-217/AB42 ratio,
                        NfL (Neurofilament Light), and GFAP. These liquid biopsy markers dramatically improve
                        sensitivity.</p>
                </div>
                <div class="timeline-dot"></div>
            </div>

            <div class="timeline-item">
                <div class="timeline-content glass">
                    <div class="timeline-year">Result</div>
                    <h4>Receive Risk Assessment</h4>
                    <p>MirAI's XGBoost cascade produces a probability score indicating MCI/Dementia risk, along with a
                        clinical interpretation and recommended next steps. Results are generated in under 2 seconds.
                    </p>
                </div>
                <div class="timeline-dot"></div>
            </div>
        </div>
    </section>

    <!-- Section 5: Patient Screening Wizard (Contact Section Repurposed) -->
    <section class="contact" id="screening">
        <div class="contact-container">
            <div class="contact-info glass">
                <h3>PATIENT SCREENING</h3>
                <p>Enter available clinical data below. The 3-Stage Cascade will evaluate risk incrementally based on
                    the data you provide.</p>
                <p>All fields in Stage 1 are required. Stages 2 and 3 are optional -- MirAI will automatically select
                    the best model based on available inputs.</p>

                <!-- Wizard Progress -->
                <div class="wizard-progress-container">
                    <div class="wizard-progress-header">
                        <span id="wizard-step-title">Stage 1: Demographics</span>
                        <span id="wizard-step-counter">Step 1 of 3</span>
                    </div>
                    <div class="wizard-progress-track">
                        <div class="wizard-progress-fill" id="wizard-progress-bar" style="width: 33%"></div>
                    </div>
                    <div class="wizard-stages-labels">
                        <span class="stage-label active" id="stage-label-1">Demographics</span>
                        <span class="stage-label" id="stage-label-2">Genetics</span>
                        <span class="stage-label" id="stage-label-3">Plasma</span>
                    </div>
                </div>
            </div>

            <div class="contact-form glass" id="screening-form-container">
                <form id="screening-form" onsubmit="event.preventDefault();">

                    <!-- Step 1: Demographics -->
                    <div id="wizard-step-1" class="wizard-step active">
                        <div class="form-group">
                            <label class="form-label">Age <span class="required">*</span></label>
                            <input type="number" id="AGE" name="AGE" placeholder="e.g. 72" required min="50" max="100"
                                step="0.1">
                            <span class="form-hint">Patient age in years</span>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Biological Sex <span class="required">*</span></label>
                            <select id="PTGENDER" name="PTGENDER" required>
                                <option value="" disabled selected>Select biological sex</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Education Level <span class="required">*</span></label>
                            <input type="number" id="PTEDUCAT" name="PTEDUCAT" placeholder="e.g. 16" required min="0"
                                max="30" step="1">
                            <span class="form-hint">Total years of formal education (e.g., HS=12, Bachelor's=16)</span>
                        </div>
                    </div>

                    <!-- Step 2: Genetics -->
                    <div id="wizard-step-2" class="wizard-step">
                        <div class="form-group">
                            <div class="toggle-row">
                                <label class="form-label">APOE4 Carrier Status</label>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="toggle-genetics" checked>
                                    <span class="toggle-slider"></span>
                                    <span class="toggle-label">Data Available</span>
                                </label>
                            </div>
                        </div>
                        <div id="genetics-fields">
                            <div class="info-banner glass">
                                APOE e4 is the strongest established genetic risk factor for late-onset Alzheimer's
                                disease.
                            </div>
                            <div class="form-group">
                                <select id="APOE4" name="APOE4">
                                    <option value="" disabled selected>Select alleles...</option>
                                    <option value="0">0 alleles (Non-carrier)</option>
                                    <option value="1">1 allele (Heterozygous)</option>
                                    <option value="2">2 alleles (Homozygous)</option>
                                </select>
                            </div>
                        </div>
                        <div id="genetics-disabled-msg" class="disabled-msg" style="display:none;">
                            Genetic data not available. The cascade will predict based on Demographics alone or proceed
                            to Plasma if available.
                        </div>
                    </div>

                    <!-- Step 3: Plasma Biomarkers -->
                    <div id="wizard-step-3" class="wizard-step">
                        <div class="form-group">
                            <div class="toggle-row">
                                <label class="form-label">Plasma Biomarkers</label>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="toggle-plasma" checked>
                                    <span class="toggle-slider"></span>
                                    <span class="toggle-label">Data Available</span>
                                </label>
                            </div>
                        </div>
                        <div id="plasma-fields">
                            <div class="form-group">
                                <label class="form-label">pTau-217 / AB42 Ratio</label>
                                <input type="number" id="pT217_AB42_F" name="pT217_AB42_F" placeholder="0.00"
                                    step="any">
                            </div>
                            <div class="form-group">
                                <label class="form-label">AB42 / AB40 Ratio</label>
                                <input type="number" id="AB42_AB40_F" name="AB42_AB40_F" placeholder="0.00" step="any">
                            </div>
                            <div class="form-group">
                                <label class="form-label">NfL (Neurofilament Light) <span
                                        class="form-unit">pg/mL</span></label>
                                <input type="number" id="NfL_Q" name="NfL_Q" placeholder="0.00" step="any">
                            </div>
                            <div class="form-group">
                                <label class="form-label">GFAP <span class="form-unit">pg/mL</span></label>
                                <input type="number" id="GFAP_Q" name="GFAP_Q" placeholder="0.00" step="any">
                            </div>
                        </div>
                        <div id="plasma-disabled-msg" class="disabled-msg" style="display:none;">
                            Plasma data not available. The cascade will predict based on earlier stages.
                        </div>
                    </div>
                </form>

                <!-- Wizard Navigation Buttons -->
                <div class="wizard-nav-buttons">
                    <button type="button" id="wizard-btn-back" class="submit-btn btn-secondary"
                        style="opacity:0; pointer-events:none;">
                        &larr; Back
                    </button>
                    <button type="button" id="wizard-btn-next" class="submit-btn">
                        Next Step &rarr;
                    </button>
                    <button type="button" id="wizard-btn-submit" class="submit-btn btn-submit" style="display:none;">
                        Run Inference Analysis
                    </button>
                </div>

                <!-- Loading Overlay -->
                <div id="screening-loading" class="loading-overlay" style="display:none;">
                    <div class="loading-spinner"></div>
                    <p class="loading-text">Analyzing Profile...</p>
                    <p class="loading-subtext">Passing data through MirAI XGBoost cascade</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 6: Results (Hidden by default, shown after inference) -->
    <section class="results-section" id="results" style="display:none;">
        <h2 class="section-title">ANALYSIS REPORT</h2>
        <div class="results-container">
            <!-- Main Result Card -->
            <div class="result-card glass-strong">
                <div class="result-header" id="result-header-bg">
                    <div class="result-header-content">
                        <div class="result-meta">
                            <span class="result-label">MCI/DEMENTIA RISK ASSESSMENT</span>
                            <h3 class="result-classification" id="result-classification">--</h3>
                            <span class="result-stage-badge" id="result-stage-badge">Stage -- Output</span>
                        </div>
                        <div class="result-gauge">
                            <canvas id="risk-gauge-chart" width="180" height="180"></canvas>
                            <div class="gauge-center">
                                <span class="gauge-value" id="result-percentage">--%</span>
                                <span class="gauge-label">RISK</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="result-body">
                    <h4 class="result-interpretation-title">Clinical Interpretation</h4>
                    <p class="result-message" id="result-message">--</p>
                </div>
            </div>

            <!-- Patient Details + Next Steps -->
            <div class="result-sidebar">
                <div class="result-details-card glass">
                    <h4>Patient Details</h4>
                    <div class="detail-row"><span>Age</span><span id="res-pat-age">--</span></div>
                    <div class="detail-row"><span>Sex</span><span id="res-pat-sex">--</span></div>
                    <div class="detail-row"><span>Education</span><span id="res-pat-edu">--</span></div>
                    <div class="detail-row"><span>APOE4</span><span id="res-pat-apoe">--</span></div>
                </div>

                <div class="result-next-steps glass">
                    <h4>Recommended Next Steps</h4>
                    <ul>
                        <li>Review results with patient</li>
                        <li>If risk is high, consider further neuropsychological testing or PET imaging</li>
                        <li>Schedule follow-up in 6 months</li>
                        <li>Document results in patient EHR</li>
                    </ul>
                </div>

                <div class="result-actions">
                    <button class="submit-btn" onclick="window.print()">Export / Print Report</button>
                    <button class="submit-btn btn-secondary" onclick="app.resetWizard()">New Screening</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-disclaimer">
                <div class="disclaimer-badge">&#x26A0;&#xFE0F; Medical Disclaimer</div>
                <p>MirAI is an investigational screening tool and <strong>does not replace professional clinical
                        diagnosis</strong>. Predictions are based on statistical machine learning models (XGBoost)
                    trained on the ADNI dataset and are intended solely to assist clinical decision-making triage
                    workflows.</p>
            </div>
            <div class="footer-links">
                <a href="#features">The Cascade</a>
                <a href="#showcase">Dashboard</a>
                <a href="#timeline">How it Works</a>
                <a href="#screening">Screen Patient</a>
            </div>
            <div class="footer-copyright">
                <p>&copy; 2026 MirAI -- Liquid Biopsy-Based Alzheimer's Disease Triage. Research Use Only.</p>
            </div>
            <div class="footer-design">
                ML Pipeline: XGBoost + ADNI Data |
                Developed for Research Use
            </div>
        </div>
    </footer>

    <script src="/static/js/app.js"></script>
</body>

</html>